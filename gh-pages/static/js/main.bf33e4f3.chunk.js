(this.webpackJsonpattinyx14=this.webpackJsonpattinyx14||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/attinyx14-pins.4433b6d7.toml"},function(e,t,n){e.exports=n.p+"static/media/attinyx14-topics.4573086d.toml"},function(e,t,n){e.exports=n.p+"static/media/attinyx14-registries.87a1f0fa.toml"},,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),o=n.n(i),s=(n(19),n(10)),l=n.n(s),c=n(11),u=n.n(c),p=n(12),m=n.n(p),f=(n(20),n(6)),g=function(e){var t=e.pin,n=e.children;return a.a.createElement("div",{className:"pin-row pin-".concat(t.pin)},n)},d=(n(23),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}),b=n(2),h=b.b.model({type:b.b.string,label:b.b.string,alt:b.b.optional(b.b.boolean,!1),groups:b.b.array(b.b.string)}),v=b.b.model({pin:b.b.number,attributes:b.b.array(h)}),y=b.b.model({topic:b.b.string,title:b.b.string,text:b.b.string}),E=b.b.model({name:b.b.maybeNull(b.b.string),size:b.b.optional(b.b.number,1),description:b.b.maybeNull(b.b.string),relatedGroups:b.b.array(b.b.string)}),G=b.b.model({name:b.b.string,fields:b.b.array(E)}),w=b.b.model({name:b.b.string,datasheetPage:b.b.maybeNull(b.b.number),offsets:b.b.array(G)}),N=b.b.model({topics:b.b.array(y),registries:b.b.array(w),pins:b.b.array(v),highlightGroups:b.b.array(b.b.string),activeGroup:b.b.maybeNull(b.b.string),activePin:b.b.maybeNull(b.b.number),datasheetUrl:b.b.optional(b.b.string,"http://ww1.microchip.com/downloads/en/DeviceDoc/ATtiny214-414-814-DataSheet-DS40001912C.pdf")}).actions((function(e){return{setTopics:function(t){e.topics=t},setRegistries:function(t){e.registries=t},setPins:function(t){e.pins=t,console.log("Set pins",t)},setHighlightGroups:function(t){console.log("set",t),t!==e.highlightGroups&&(e.highlightGroups=t||[])},setActiveGroup:function(t){t!==e.activeGroup&&(e.activeGroup=t)},setActivePinAndGroup:function(t,n){t!==e.activePin&&(e.activePin=t),n!==e.activeGroup&&(e.activeGroup=n)}}})).views((function(e){return{get primaryHighlightGroup(){return e.highlightGroups.length?e.highlightGroups[0]:null},get secondaryHighlightGroups(){return e.highlightGroups.slice(1)},getTopic:function(t){return e.topics.find((function(e){return e.topic===t}))},getRegistry:function(t){return e.registries.find((function(e){return e.name===t}))},getRegistryDatasheetLink:function(t){return t.datasheetPage?"".concat(e.datasheetUrl,"#page=").concat(t.datasheetPage):null}}})).create(),x=n(5),P=Object(x.a)((function(e){var t=e.pin,n=e.attribute,r=n.label,i=n.type,o=n.alt,s=n.groups,l=N.activeGroup,c=N.activePin,u=s.length?s[0]:null,p=c&&c===t.pin,m=s.includes(l),f=l&&!m,g=s.includes(N.primaryHighlightGroup),h=!g&&N.secondaryHighlightGroups.filter((function(e){return s.includes(e)})).length;return a.a.createElement("div",{className:d("pin-attribute","".concat(i,"-pin"),o&&"alt-pin",g&&"highlight-primary-pin",h&&"highlight-secondary-pin",p&&"active-pin",m&&"active-group",f&&"inactive-group"),onMouseEnter:function(){return N.setHighlightGroups(Object(b.a)(s))},onMouseLeave:function(){return N.setHighlightGroups([])},onClick:function(e){N.setActivePinAndGroup(t.pin,u),e.stopPropagation()}},r)})),k=function(e){var t=N.pins,n=t.length/2;console.log("PINS",t);var r=t.slice(0,n).map((function(e){var t=e.attributes.map((function(t,n){return a.a.createElement(P,{key:n,attribute:t,pin:e})}));return t.reverse(),a.a.createElement(g,{pin:e},t,a.a.createElement("div",{className:"chip-leg"}))})),i=t.slice(n,t.length).map((function(e){var t=e.attributes.map((function(t,n){return a.a.createElement(P,{key:n,attribute:t,pin:e})}));return a.a.createElement(g,{pin:e},a.a.createElement("div",{className:"chip-leg"}),t)}));return a.a.createElement("div",{className:"model-row"},a.a.createElement("div",{className:"model-row--left-column"},r),a.a.createElement("div",{className:"model-row--middle-column"},a.a.createElement("div",{className:"attiny"})),a.a.createElement("div",{className:"model-row--right-column"},i))},A=n(3),j=(n(26),function(e){var t=e.registry,n=e.offset,r=(e.field,n?"".concat(t," ").concat(n):"".concat(t));return a.a.createElement("a",null,r)}),O=n(13),R=(n(27),function(e){var t=e.offset,n=0,r=t.fields.map((function(e){n+=e.size;var t=e.relatedGroups.includes(N.activeGroup),r=!e.name;return console.log("fff",e.relatedGroups,N.activeGroup),a.a.createElement("div",{className:d("field-size-".concat(e.size),t&&"active",r&&"disabled")},e.name)})).reverse(),i=[Object(O.a)(Array(n).keys()).map((function(e){return a.a.createElement("div",{className:d("field-size-1","bit-number")},e)})).reverse(),r].map((function(e){return a.a.createElement("div",{className:"block-row"},e)}));return a.a.createElement("div",{className:"registry-offset offset-fields"},i)}),H=(n(28),function(e){var t=Object(r.useState)(e.offset),n=Object(A.a)(t,2),i=(n[0],n[1],Object(r.useState)(e.field)),o=Object(A.a)(i,2),s=(o[0],o[1],N.getRegistry(e.registry));if(!s)return a.a.createElement("span",null,"Registry definition for '",e.registry,"' is missing");var l=s.offsets.find((function(t){return t.name===e.offset}));console.log("offset",l,e.offset,s.offsets);var c=l?"".concat(s.name," > ").concat(l.name):s.name,u=N.getRegistryDatasheetLink(s),p=u?a.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},"\ud83d\uddce"):null;return a.a.createElement("div",{className:"registry"},a.a.createElement("div",null,a.a.createElement("span",{className:"title"},c," ",p),l&&a.a.createElement(R,{offset:l})))}),T=new RegExp("\\bR:(\\w+)(?:\\.(\\w+)(?:\\.(\\w+))?)?\\b","g"),D=Object(x.a)((function(e){var t=N.activeGroup,n=null;if(t){var r=N.getTopic(t);n=a.a.createElement(a.a.Fragment,null,a.a.createElement("h3",null,r.title),a.a.createElement("div",null,function(e){console.log(e),console.log(T);var t=[e],n=[],r=!0,i=!1,o=void 0;try{for(var s,l=e.matchAll(T)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;console.log("registryDefinition",c);var u=Object(A.a)(c,4),p=u[1],m=u[2],f=u[3],g=t[t.length-1].split(T,1),d=Object(A.a)(g,2),b=d[0],h=d[1];t[t.length-1]=b,t.push(a.a.createElement(j,{registry:p,offset:m,field:f})),t.push(h),n.push(a.a.createElement(H,{registry:p,offset:m,field:f}))}}catch(v){i=!0,o=v}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return t.push(a.a.createElement("div",{className:"references"},n)),t}(r.text)))}if(!n){var i=N.primaryHighlightGroup,o=i||"default",s=N.getTopic(o);n=s?s.title:N.getTopic("default").title}return a.a.createElement("div",{className:"topic-view"},n)}));function S(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}var z=S(l.a),L=S(u.a),C=S(m.a);N.setPins(f.parse(z).pins),N.setTopics(f.parse(L).topics),N.setRegistries(f.parse(C).regs);var M=function(){return a.a.createElement("div",{className:"App",onClick:function(){return N.setActivePinAndGroup(null,null)}},a.a.createElement(k,null),a.a.createElement(D,null),a.a.createElement("div",{className:"data-row"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[14,1,2]]]);
//# sourceMappingURL=main.bf33e4f3.chunk.js.map