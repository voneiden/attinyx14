(this.webpackJsonpattinyx14=this.webpackJsonpattinyx14||[]).push([[0],[,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/attinyx14-pins.19be0681.toml"},function(e,t,n){e.exports=n.p+"static/media/attinyx14-topics.b41aa9e2.toml"},function(e,t,n){e.exports=n.p+"static/media/attinyx14-registries.57e8b529.toml"},,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),c=(n(21),n(12)),l=n.n(c),s=n(13),u=n.n(s),p=n(14),m=n.n(p),f=(n(22),n(6)),g=function(e){var t=e.pin,n=e.children;return r.a.createElement("div",{className:"pin-row pin-".concat(t.pin)},n)},b=(n(25),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}),h=n(2),v=h.b.model({type:h.b.string,label:h.b.string,alt:h.b.optional(h.b.boolean,!1),groups:h.b.array(h.b.string)}),d=h.b.model({pin:h.b.number,attributes:h.b.array(v)}),y=h.b.model({topic:h.b.string,title:h.b.string,text:h.b.string,chip:h.b.optional(h.b.boolean,!1)}),E=h.b.model({name:h.b.maybeNull(h.b.string),size:h.b.optional(h.b.number,1),description:h.b.maybeNull(h.b.string),relatedGroups:h.b.array(h.b.string)}),G=h.b.model({name:h.b.string,fields:h.b.array(E)}),N=h.b.model({name:h.b.string,datasheetPage:h.b.maybeNull(h.b.number),offsets:h.b.array(G)}),w=h.b.model({topics:h.b.array(y),registries:h.b.array(N),pins:h.b.array(d),highlightGroups:h.b.array(h.b.string),activeGroup:h.b.maybeNull(h.b.string),activePin:h.b.maybeNull(h.b.number),datasheetUrl:h.b.optional(h.b.string,"http://ww1.microchip.com/downloads/en/DeviceDoc/ATtiny214-414-814-DataSheet-DS40001912C.pdf")}).actions((function(e){return{setTopics:function(t){e.topics=t},setRegistries:function(t){e.registries=t},setPins:function(t){e.pins=t,console.log("Set pins",t)},setHighlightGroups:function(t){console.log("set",t),t!==e.highlightGroups&&(e.highlightGroups=t||[])},setActiveGroup:function(t){t!==e.activeGroup&&(e.activeGroup=t)},setActivePinAndGroup:function(t,n){t!==e.activePin&&(e.activePin=t),n!==e.activeGroup&&(e.activeGroup=n)}}})).views((function(e){return{get primaryHighlightGroup(){return e.highlightGroups.length?e.highlightGroups[0]:null},get secondaryHighlightGroups(){return e.highlightGroups.slice(1)},getTopic:function(t){return e.topics.find((function(e){return e.topic===t}))},getRegistry:function(t){return e.registries.find((function(e){return e.name===t}))},getRegistryDatasheetLink:function(t){return t.datasheetPage?"".concat(e.datasheetUrl,"#page=").concat(t.datasheetPage):null},get chipTopics(){return e.topics.filter((function(e){return e.chip}))}}})).create(),k=n(3),P=Object(k.a)((function(e){var t=e.pin,n=e.attribute,a=n.label,i=n.type,o=n.alt,c=n.groups,l=w.activeGroup,s=w.activePin,u=c.length?c[0]:null,p=s&&s===t.pin,m=c.includes(l),f=l&&!m,g=c.includes(w.primaryHighlightGroup),v=!g&&w.secondaryHighlightGroups.filter((function(e){return c.includes(e)})).length;return r.a.createElement("div",{className:b("pin-attribute","".concat(i,"-pin"),o&&"alt-pin",g&&"highlight-primary-pin",v&&"highlight-secondary-pin",p&&"active-pin",m&&"active-group",f&&"inactive-group"),onMouseEnter:function(){return w.setHighlightGroups(Object(h.a)(c))},onMouseLeave:function(){return w.setHighlightGroups([])},onClick:function(e){w.setActivePinAndGroup(t.pin,u),e.stopPropagation()}},a)})),A=(n(9),function(e){var t=e.pin;return r.a.createElement("div",{className:"chip-leg"},r.a.createElement("span",{className:"pin-number"},t))}),x=(n(11),Object(k.a)((function(e){var t=e.topic,n=w.activeGroup===t,a=w.activeGroup&&!n;return r.a.createElement("div",{className:b("chip-topic",n&&"active-topic",a&&"inactive-topic"),onMouseEnter:function(){return w.setHighlightGroups([t])},onMouseLeave:function(){return w.setHighlightGroups([])},onClick:function(e){w.setActivePinAndGroup(null,t),e.stopPropagation()}},t)}))),j=function(e){var t=w.pins,n=t.length/2;console.log("PINS",t);var a=t.slice(0,n).map((function(e){var t=e.attributes.map((function(t,n){return r.a.createElement(P,{key:n,attribute:t,pin:e})}));return t.reverse(),r.a.createElement(g,{pin:e},t,r.a.createElement(A,{pin:e.pin}))})),i=t.slice(n,t.length).map((function(e){var t=e.attributes.map((function(t,n){return r.a.createElement(P,{key:n,attribute:t,pin:e})}));return r.a.createElement(g,{pin:e},r.a.createElement(A,{pin:e.pin}),t)})),o=w.chipTopics.map((function(e){return r.a.createElement(x,{key:e.topic,topic:e.topic})}));return r.a.createElement("div",{className:"model-row",onClick:function(){return w.setActivePinAndGroup(null,null)}},r.a.createElement("div",{className:"model-row--left-column"},a),r.a.createElement("div",{className:"model-row--middle-column"},r.a.createElement("div",{className:"attiny"},r.a.createElement("div",{className:"pin1marker"}),o)),r.a.createElement("div",{className:"model-row--right-column"},i))},O=n(4),T=(n(28),function(e){var t=e.registry,n=e.offset,a=(e.field,n?"".concat(t," ").concat(n):"".concat(t));return r.a.createElement("a",null,a)}),H=n(15),R=(n(29),function(e){var t=e.offset,n=0,a=t.fields.map((function(e,t){n+=e.size;var a=e.relatedGroups.includes(w.activeGroup),i=!e.name,o=e.size>1&&!i?"[".concat(t+e.size-1,":").concat(t,"]"):null;return r.a.createElement("div",{className:b("field-size-".concat(e.size),a&&"active",i&&"disabled")},e.name,o)})).reverse(),i=[Object(H.a)(Array(n).keys()).map((function(e){return r.a.createElement("div",{className:b("field-size-1","bit-number")},e)})).reverse(),a].map((function(e){return r.a.createElement("div",{className:"block-row"},e)}));return r.a.createElement("div",{className:"registry-offset offset-fields"},i)}),z=(n(30),Object(k.a)((function(e){var t=e.registry,n=t.offsets.map((function(e,n){var a=e?"".concat(t.name,".").concat(e.name):t.name;return r.a.createElement(r.a.Fragment,{key:n},r.a.createElement("span",{className:"title"},a),r.a.createElement(R,{offset:e}))}));return r.a.createElement(r.a.Fragment,null,n)}))),D=function(e){var t=Object(a.useState)(e.offset),n=Object(O.a)(t,2),i=(n[0],n[1],Object(a.useState)(e.field)),o=Object(O.a)(i,2),c=(o[0],o[1],w.getRegistry(e.registry));if(!c)return r.a.createElement("span",null,"Registry definition for '",e.registry,"' is missing");var l=c.offsets.find((function(t){return t.name===e.offset}));console.log("offset",l,e.offset,c.offsets);var s=l?"".concat(c.name," > ").concat(l.name):c.name,u=w.getRegistryDatasheetLink(c),p=u?r.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},"\ud83d\uddce"):null;return e.offset?r.a.createElement("div",{className:"registry"},r.a.createElement("div",null,r.a.createElement("span",{className:"title"},s," ",p),l&&r.a.createElement(R,{offset:l}))):r.a.createElement("div",{className:"registry"},r.a.createElement("div",null,r.a.createElement("span",{className:"title"},s," ",p),r.a.createElement(z,{registry:c})))},S=new RegExp("\\bR:(\\w+)(?:\\.(\\w+)(?:\\.(\\w+))?)?\\b","g"),C=Object(k.a)((function(e){var t=w.activeGroup,n=null;if(t){var a=w.getTopic(t);n=a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,a.title),r.a.createElement("div",null,function(e){console.log(e),console.log(S);var t=[e],n=[],a=!0,i=!1,o=void 0;try{for(var c,l=e.matchAll(S)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;console.log("registryDefinition",s);var u=Object(O.a)(s,4),p=u[1],m=u[2],f=u[3],g=t[t.length-1].split(S,1),b=Object(O.a)(g,2),h=b[0],v=b[1];t[t.length-1]=h,t.push(r.a.createElement(T,{registry:p,offset:m,field:f})),t.push(v),n.push(r.a.createElement(D,{registry:p,offset:m,field:f}))}}catch(d){i=!0,o=d}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return t.push(r.a.createElement("div",{className:"references"},n)),t}(a.text))):r.a.createElement("span",null,"Topic '",t,"' not found")}if(!n){var i=w.primaryHighlightGroup,o=w.getTopic(i);n=o?r.a.createElement("h3",null,o.title):null}return r.a.createElement("div",{className:"topic-view",onClick:function(e){return e.stopPropagation()}},n)}));function L(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}var M=L(l.a),F=L(u.a),B=L(m.a);w.setPins(f.parse(M).pins),w.setTopics(f.parse(F).topics),w.setRegistries(f.parse(B).regs);var I=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"ATtinyX14 Quick Reference"),r.a.createElement(j,null),r.a.createElement(C,null),r.a.createElement("div",{className:"data-row"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[16,1,2]]]);
//# sourceMappingURL=main.2f797dc5.chunk.js.map